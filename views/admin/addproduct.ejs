<!DOCTYPE HTML>
<html lang="en">


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-form-product-1.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:31 GMT -->
<head>
    <meta charset="utf-8">
    <title>Wild Monkey Clothing</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/admin-assets/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link href="/admin-assets/css/main.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="screen-overlay"></div>
    <!-- -------------------------INCLUDE------------------------- -->
    <%- include('sidenav') %>

    <main class="main-wrap">
        <%- include('adminheader') %>
        <section class="content-main">
            <div class="row">
                <div class="col-9">
                    <div class="content-header">
                        <h2 class="content-title">Add New Product</h2>
                        <div>
                            <!-- <button class="btn btn-light rounded font-sm mr-5 text-body hover-up">Save to draft</button> -->
                           
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h4>Basic</h4>
                        </div>
                        <div class="card-body">
                            <form id="form" method="post" action="/admin/addproduct" enctype="multipart/form-data">
                                <div class="mb-4">
                                    <label for="product_name" class="form-label">Product Name</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="name" name="name">
                                    <p class="text text-danger"  id="productError"></p>
                                </div>
                                <div class="mb-4">
                                    <label class="form-label"> description</label>
                                    <textarea placeholder="Type here" class="form-control" id="description" rows="4" name="description"></textarea>
                                    <p class="text text-danger" style="display:none" id="descriptionError"></p>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="mb-4">
                                            <label class="form-label" >sale price</label>
                                            <div class="row gx-2">
                                                <input placeholder="$" name="saleprice" type="text" id="saleprice" class="form-control" >
                                                <p class="text text-danger" style="display:none" id="salepriceError"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="mb-4">
                                            <label class="form-label" >regular price</label>
                                            <input placeholder="$" name="regularprice" type="text" id="regularprice" class="form-control" >
                                            <p class="text text-danger" style="display:none" id="regularpriceError"></p>
                                            <p class="text text-danger" style="display:none" id="lesserPriceError" ></p>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        
                                    </div>
                                    
                                    <div class="mb-4">
                                        <label for="product_name" class="form-label">Small quantity</label>
                                        <input type="text" placeholder="Type here" class="form-control" id="small" name="small">
                                        <p class="text text-danger" style="display:none" id="smallError"></p>
                                    </div>
                                    <div class="mb-4">  
                                        <label for="product_name" class="form-label">medium quantity</label>
                                        <input type="text" placeholder="Type here" class="form-control" id="medium" name="medium">
                                        <p class="text text-danger" style="display:none" id="mediumError"></p>
                                    </div>
                                    <div class="mb-4">
                                        <label for="product_name" class="form-label">large quantity</label>
                                        <input type="text" placeholder="Type here" class="form-control" id="large" name="large">
                                        <p class="text text-danger" style="display:none" id="largeError"></p>
                                    </div>
                                    <button class="btn btn-light rounded font-sm mr-5 text-body hover-up" id="btn"  >upload</button>
                                    <p class="text text-danger" style="display:none" id="submitError"></p>
                                   
                                </div>
                              
                        </div>
                    </div> <!-- card end// -->
                     <!-- card end// -->
                </div>
                <div class="col-lg-3">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h4>Media</h4>
                        </div>
                        <div class="card-body">
                            <div class="input-upload">
                                <img id="imagePreview" src="" alt="Preview">
                                <input id="imageInput" class="form-control" type="file" name="image" multiple accept="image/*" onchange="imagePreview()">
                                    
                            </div>
                        </div>
                    </div> <!-- card end// -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="row gx-2">
                                <div class="col-sm-6 mb-3">
                                    <label class="form-label">Category</label>
                                   
                                    <select id="category" name="category" class="form-select">
                                    <%if(locals.category){%>
                                       <%for(let i=0;i<category.length;i++){%>

                                    <option value="<%=category[i]._id%>"><%=category[i].name%></option>
                                <%}}%>
                            </select>
                                </div>
                              
                            </div> <!-- row.// -->
                        </div>
                    </div> <!-- card end// -->
                </div>
                
            </form>
            </div>
        </section> <!-- content-main end// -->
        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <!-- <script>
                    document.write(new Date().getFullYear())
                    </script> Â©, Evara - HTML Ecommerce Template .
                </div> -->
                <div class="col-sm-6">
                    <!-- <div class="text-sm-end">
                        All rights reserved
                    </div> -->
                </div>
            </div>
        </footer>
    </main>
    <script>
        const form = document.getElementById('form');
        const product = document.getElementById('name');
        const productError = document.getElementById('productError');
        const description = document.getElementById('description');
        const descriptionError = document.getElementById('descriptionError');
        const saleprice = document.getElementById('saleprice');
        const salepriceError = document.getElementById('salepriceError');
        const regularprice = document.getElementById('regularprice');
        const regularpriceError = document.getElementById('regularpriceError');
        const ifsmallpriceError = document.getElementById('ifsmallpriceError');
        const small = document.getElementById("small");
        const smallError = document.getElementById("smallError")
        const medium = document.getElementById("medium");
        const mediumError = document.getElementById("mediumError")
        const large = document.getElementById("large");
        const largeError = document.getElementById("largeError")
        const category = document.getElementById('category').value
        const lesserPriceError = document.getElementById('lesserPriceError')
        // const submitError = document.getElementById("submitError")
        // const button = document.getElementById('btn')
    



        function validateBothPrices(){
            const regularPriceValue = parseFloat(regularprice.value);
            const salePriceValue = parseFloat(saleprice.value);
            if( regularPriceValue<=salePriceValue){
                lesserPriceError.innerHTML = 'Regular price must be greater than or equal to sale price.';
            lesserPriceError.style.display = 'block';
            }
        }


        function validateProduct() {
            const productpattern = /^[a-zA-Z][a-zA-Z ]*$/;
            if (productpattern.test(product.value)) {
                productError.innerHTML = '';
            } else {
                productError.innerHTML = 'Must contain only letters';
                // productError.style.display = 'block';
                // setTimeout(() => {
                //     productError.style.display = 'none';
                // }, 3000);
            }
        }
    
        function validateDescription() {
            const descriptionpattern = /^[^\s][\s\S]*$/;
            if (descriptionpattern.test(description.value)) {
                descriptionError.innerHTML = '';
            } else {
                descriptionError.innerHTML = 'Invalid input';
                descriptionError.style.display = 'block';
                setTimeout(() => {
                    descriptionError.style.display = 'none';
                }, 3000);
            }
        }
    
        function validatesaleSalePrice() {
            const salepricepattern = /^(?!-)[â¹]?\d+$/;
            if (salepricepattern.test(saleprice.value)) {
                salepriceError.innerHTML = '';
            } else {
                salepriceError.innerHTML = 'Invalid input';
                salepriceError.style.display = 'block';
                setTimeout(() => {
                    salepriceError.style.display = 'none';
                }, 3000);
            }
        }
    
        function validateRegularPrice() {
            const regularpricepattern = /^(?!-)[â¹]?\d+$/;
            if (regularpricepattern.test(regularprice.value)) {
                regularpriceError.innerHTML = '';
            } else {
                regularpriceError.innerHTML = 'Invalid input';
                regularpriceError.style.display = 'block';
                setTimeout(() => {
                    regularpriceError.style.display = 'none';
                }, 3000);
            }
        }
    
        function validateSmallQuantity() {
    const smallPattern = /^\d+$/;

    // Check if the quantity field is empty
    if (small.value.trim() === '') {
        smallError.innerHTML = 'Quantity field cannot be empty';
    } else {
        // Check if the input matches the numeric pattern
        if (smallPattern.test(small.value)) {
            smallError.innerHTML = '';
        } else {
            smallError.innerHTML = 'Invalid input. Please enter a valid quantity.';
        }
    }

    // Display the error message if any, and set a timeout to hide it
    smallError.style.display = smallError.innerHTML ? 'block' : 'none';
    setTimeout(() => {
        smallError.style.display = 'none';
    }, 3000);
}

function validateMediumQuantity() {
    const mediumPattern = /^\d+$/;

    // Check if the quantity field is empty
    if (medium.value.trim() === '') {
        mediumError.innerHTML = 'Quantity field cannot be empty';
    } else {
        // Check if the input matches the numeric pattern
        if (mediumPattern.test(medium.value)) {
            mediumError.innerHTML = '';
        } else {
            mediumError.innerHTML = 'Invalid input. Please enter a valid quantity.';
        }
    }

    // Display the error message if any, and set a timeout to hide it
    mediumError.style.display = mediumError.innerHTML ? 'block' : 'none';
    setTimeout(() => {
        mediumError.style.display = 'none';
    }, 3000);
}
        // function largeQuantity() {
        //    const largepattern =  /^\d+$/
        //    if(large.value.trim()===''){
        //     largeError.innerHTML="quantity field cant be empty"
        //    }
        //        if(largepattern.test(large.value)){
        //         largeError.innerHTML=''
        //        }else{
        //         largeError.innerHTML = 'Invalid input';
        //             largeError.style.display = 'block';
        //             setTimeout(() => {
        //                 largeError.style.display = 'none';
        //             }, 3000);
        //        }
        // }
   function validateLargeQuantity(){
   const  largePattern = /^\d+$/;
    if(large.value.trim()===''){
        largeError.innerHTML='Quantity fields cant be empty'
    }else{
        if(largePattern.test(large.value)){
            largeError.innerHTML=''
        }else{
            largeError.innerHTML='invalid input. Please enter a valid input'
        }
    }
    largeError.style.display = largeError.innerHTML ? "block" : "none"
    setTimeout(()=>{
        largeError.style.display="none"
    },3000)

   }
    form.addEventListener('submit', function(event){
            validateProduct();
            validateDescription();
            validatesaleSalePrice();
            validateRegularPrice();
            validateSmallQuantity();
            validateMediumQuantity();
            validateLargeQuantity();
            validateBothPrices()
        

    
            if(productError.innerHTML||descriptionError.innerHTML||salepriceError.innerHTML||regularpriceError.innerHTML||smallError.innerHTML||mediumError.innerHTML||largeError.innerHTML||lesserPriceError.innerHTML){
                console.log("submitting prevented")
                event.preventDefault();
              
                setTimeout(() => {
            window.location.href='/admin/addproduct'
        }, 200);
            }
        });
    
        product.addEventListener('blur', validateProduct);
        description.addEventListener('blur', validateDescription);
        saleprice.addEventListener('blur', validatesaleSalePrice);
        regularprice.addEventListener('blur', validateRegularPrice);
        small.addEventListener('blur',validateSmallQuantity)
        medium.addEventListener('blur',validateMediumQuantity)
        large.addEventListener('blur',validateLargeQuantity)
        regularprice.addEventListener('blur',validateBothPrices)
        // validateBothPrices.addEventListener('blur',)
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const preview = document.getElementById('imagePreview');
const input = document.getElementById('imageInput');

function imagePreview() {
    if (input.files && input.files[0]) {
        const reader = new FileReader(); 

        reader.onload = function (e) {
            preview.src = e.target.result;
        };

        reader.readAsDataURL(input.files[0]); 
    }
}
input.addEventListener('change', imagePreview);
});


    </script>
    <script src="/admin-assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="/admin-assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="/admin-assets/js/vendors/select2.min.js"></script>
    <script src="/admin-assets/js/vendors/perfect-scrollbar.js"></script>
    <script src="/admin-assets/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="/admin-assets/js/main.js" type="text/javascript"></script>
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-form-product-1.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:32 GMT -->
</html>