<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<style>
    .row{
        display:flex;
        justify-content: center;
        margin-left:50px;
        margin-top:50px;
    }
    .addadd{
        color: #088178;
    }
    .add{
      background-color: #088178;
     border-radius:5px;
    }
</style>
<header>

</header>
<body class="greenback">
    <div class="row">
        <div class="col-md-8 mb-4">
          <div class="card mb-4  mx-auto">
            <div class="card-header py-3">
              <h5 class="addadd" >EDIT ADDRESS</h5>
            </div>
          
            <div class="card-body px-5  ">
            
              <form id="form" method="post" action="">
              
                <div class="row mb-4 ms-0">
                  <div class="col">
                  
                    <div data-mdb-input-init class="form-outline">
                      <label class="form-label" for="form6Example1">First name</label>
                      <input type="text" id="fname" class="form-control" name="fname" value="<%=locals.addressDetails.fname%>"/>
                      <p id="fnameError" class="text text-danger"></p>
                     
                     <input type="hidden" name="addressId" value="<%= locals.addressDetails._id %>">
                    </div>
                  </div>
                  <div class="col">
                    <div data-mdb-input-init class="form-outline">
                      <label class="form-label" for="form6Example2"></label>
                      <input type="text" id="lname" class="form-control" name="lname" value="<%=locals.addressDetails.lname%>"  />
                      <p id="lnameError" class="text text-danger"></p>
                    </div>
                  
                  </div>
                </div>
            
                <!-- Text input -->
                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form6Example3">Address Head</label>
                  <input type="text" id="house" class="form-control" name="house" value="<%=locals.addressDetails.house%>" />
                  <p id="houseError" class="text text-danger"></p>
                </div>
              
                <!-- Text input -->
                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form6Example4">Land mark</label>
                  <input type="text" id="landmark" class="form-control" name="landmark" value="<%=locals.addressDetails.landmark%>" />
                  <p id="landmarkError" class="text text-danger"></p>
                </div>
                 <!-- city input -->
                 <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form6Example5">City</label>
                  <input type="text" id="city" class="form-control" name="city" value="<%=locals.addressDetails.city%>" />
                  <p id="cityError" class="text text-danger"></p>
                </div>


                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form6Example5">Pincode</label>
                  <input type="text" id="pincode" class="form-control" name="pincode" value="<%=locals.addressDetails.pincode%>" />
                  <p id="pincodeError" class="text text-danger"></p>
                </div>

                 <!-- country input -->
                 <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form6Example5">Country</label>
                  <input type="text" id="country" class="form-control" name="country" value="<%=locals.addressDetails.country%>" />
                  <p id="countryError" class="text text-danger"></p>
                </div>
              
                <!-- Email input -->
                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form6Example5">Email</label>
                  <input type="text" id="email" class="form-control" name="email" value="<%=locals.addressDetails.email%>" />
                  <p id="emailError" class="text text-danger"></p>
                </div>
              
                <!-- Number input -->
                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form6Example6">Phone</label>
                  <input type="number" id="phone" class="form-control" name="phone" value="<%=locals.addressDetails.phone%>" />
                  <p id="phoneError" class="text text-danger"></p>
                </div>
             
              
                <!-- Submit button -->
              <button  type="submit"  class="btn  btn-block mb-4" style="background-color: #088178; color: white;">update edit</button>
              
              </form>
             
            </div>
         
          </div>
        </div>
      
        
      </div>
</body>
<script>
  const form = document.getElementById('form')
  const fname = document.getElementById('fname')
  const fnameError = document.getElementById('fnameError')
  const lname = document.getElementById('lname')
  const lnameError = document.getElementById('lnameError')
  const house = document.getElementById('house')
  const houseError = document.getElementById('houseError')
  const landmark = document.getElementById('landmark')
  const landmarkError = document.getElementById('landmarkError')
  const city = document.getElementById('city')
  const cityError = document.getElementById('cityError')
  const pincode = document.getElementById('pincode')
  const pincodeError = document.getElementById('pincodeError')
  const country = document.getElementById('country')
  const countryError = document.getElementById('countryError')
  const email = document.getElementById('email')
  const emailError = document.getElementById('emailError')
  const phone = document.getElementById('phone')
  const phoneError = document.getElementById('phoneError')


  function validateFname(){
            const namePattern =  /^[A-Z a-z]+$/;
          if(!namePattern.test(fname.value)){
                fnameError.innerHTML = 'Name format is not valid'
                fnameError.style.display="block"
                setTimeout(() => {
                    fnameError.style.display="none"
                }, 3000);
            }else{
                fnameError.innerHTML=''
            } 
        }
 

        function validateLname(){
            const namePattern = /^[A-Z a-z]+$/;
          if(!namePattern.test(lname.value)){
                lnameError.innerHTML = 'Name format is not valid'
                lnameError.style.display="block"
                setTimeout(() => {
                    lnameError.style.display="none"
                }, 3000);
            }else{
                lnameError.innerHTML=''
            } 
        }
        
        function validateAddress(){
            const addressPattern =/^[0-9A-Za-z\s.,#-]+$/;
          if(!addressPattern.test(house.value)){
                houseError.innerHTML = 'Address format is not valid'
                houseError.style.display="block"
                setTimeout(() => {
                    houseError.style.display="none"
                }, 3000);
            }else{
                houseError.innerHTML=''
            } 
        }

        function validateLandMark(){
            const landmarkpattern = /^[^\s][\s\S]*$/
;
          if(!landmarkpattern.test(landmark.value)){
                landmarkError.innerHTML = 'landmark must be valid format'
                landmarkError.style.display="block"
                setTimeout(() => {
                    landmarkError.style.display="none"
                }, 3000);
            }else{
                landmarkError.innerHTML=''
            } 
        }

        
        function validateCity(){
            const cityPattern = /^[a-zA-Z\s]+$/;
          if(!cityPattern.test(city.value)){
                cityError.innerHTML = 'City  field must be a valid format'
                cityError.style.display="block"
                setTimeout(() => {
                    cityError.style.display="none"
                }, 3000);
            }else{
                cityError.innerHTML=''
            } 
        }

        function validatePincode(){
            const pincodePattern = /^\d+$/;
          if(!pincodePattern.test(pincode.value)){
                pincodeError.innerHTML = 'Pincode must be a valid format'
                pincodeError.style.display="block"
                setTimeout(() => {
                    pincodeError.style.display="none"
                }, 3000);
            }else{
                pincodeError.innerHTML=''
            } 
        }

        function validateCountry(){
            const countryPattern = /^[a-zA-Z\s]+$/;
          if(!countryPattern.test(country.value)){
                countryError.innerHTML = 'Country field must be a valid format'
                countryError.style.display="block"
                setTimeout(() => {
                    countryError.style.display="none"
                }, 3000);
            }else{
                countryError.innerHTML=''
            } 
        }

        function validateEmail(){
            const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
          if(!emailPattern.test(email.value)){
                emailError.innerHTML = 'Email format must be a valid format'
                emailError.style.display="block"
                setTimeout(() => {
                    emailError.style.display="none"
                }, 3000);
            }else{
                emailError.innerHTML=''
            } 
        }

        function validatePhone(){
            const phonePattern =/^(\d{3}-\d{3}-\d{4}|\d{10})$/;
          if(!phonePattern.test(phone.value)){
                phoneError.innerHTML = 'Phone number format must be a valid format'
                phoneError.style.display="block"
                setTimeout(() => {
                    phoneError.style.display="none"
                }, 3000);
            }else{
                phoneError.innerHTML=''
            } 
        }

  form.addEventListener('submit',function(event){
    validateFname();
    validateLname();
    validateAddress();
    validateLandMark();
    validateCity();
    validatePincode();
    validateCountry();
    validateEmail();
    validatePhone();
    if(fnameError.innerHTML||lname.innerHTML||houseError.innerHTML||landmarkError.innerHTML||cityError.innerHTM||pincodeError.innerHTML||countryError.innerHTML||emailError.innerHTML||phoneError.innerHTML){
      event.preventDefault();
    }
  })
  fname.addEventListener('blur',validateFname)
  lname.addEventListener('blur',validateLname)
  house.addEventListener('blur',validateAddress)
  landmark.addEventListener('blur',validateLandMark)
  city.addEventListener('blur',validateCity)
  pincode.addEventListener('blur',validatePincode)
  country.addEventListener('blur',validateCountry)
  email.addEventListener('blur',validateEmail)
  phone.addEventListener('blur',validatePhone)
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>